<head>
  <title>selfcinema</title>
</head>

<body>
<div class="container container-fluid">
     {{ #unless isLogin}}
	   {{>logoutForm}}
	 {{ /unless }}
    <div class="col-md-12 header">
      <h1>SelfCinema</h1>
      <h4 class="stripe">broke living room film fanatics unite.</h4>
	  <h6>today's image: "Daisies" by Věra Chytilová </h6>
    </div>

   <div class=" feed">
     <h4>screenings now near you:</h4>
     {{#each screenings}}
     {{> screening}}
     {{/each}}
   </div>


   <div class="featured">
	 {{ #if isScreening }}
	 {{ /if }}

	 {{ #if isLogin }}

	   <div class="uh">
	  {{> signupForm }}
	  </div>
	  <div class="uh">
	{{> loginForm }}
	</div>
	 {{ /if }}

	 {{ #if isEmpty }}
	  <h3>You are currently attending no screenings.</h3>
	 {{ /if }}

	 {{ #if createNew }}
	   {{> newScreening }}


     <script>
  function initMap() {
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 8,
      center: {lat: -34.397, lng: 150.644}
    });
    var geocoder = new google.maps.Geocoder();

    document.getElementById('submit').addEventListener('click', function() {
      geocodeAddress(geocoder, map);
    });
  }
  function geocodeAddress(geocoder, resultsMap) {
    var address = document.getElementById('address').value;
    geocoder.geocode({'address': address}, function(results, status) {
      if (status === google.maps.GeocoderStatus.OK) {
        resultsMap.setCenter(results[0].geometry.location);
        var marker = new google.maps.Marker({
          map: resultsMap,
          position: results[0].geometry.location
        });
      } else {
        alert('Geocode was not successful for the following reason: ' + status);
      }
    });
  }
      </script>


     <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBK4S7VuPnSHgBGCv3DhTN5bUUNGVVWyjI&callback=initMap"
          async defer>
      </script>

	 {{ /if }}

	 {{ #if isScheduled }}
	 {{ /if }}
	</div>


</div>
</body>
